<?php  return array (
  'resourceClass' => 'modDocument',
  'resource' => 
  array (
    'id' => 15,
    'type' => 'document',
    'contentType' => 'text/html',
    'pagetitle' => 'Geboorte klompen',
    'longtitle' => 'Geboorte draagklompen',
    'description' => '',
    'alias' => 'geboorteklompen',
    'link_attributes' => '',
    'published' => 1,
    'pub_date' => 0,
    'unpub_date' => 0,
    'parent' => 7,
    'isfolder' => 0,
    'introtext' => '',
    'content' => '<div>
<h1>Geboorte Klompen</h1>
<p>Wilt u alleen de naam en/of geboortedatum op een klompje of wilt u een gedeelte van het geboortekaartje op een paar klompjes. Dat is geen enkel probleem. Stuurt u mij het geboortekaartje via post of email en ik maak het voor u. Ook is het mogelijk om een paar geboorteklompjes te bestellen met het favoriete sprookje(s) of stripfiguur erop.</p>
</div>',
    'richtext' => 1,
    'template' => 13,
    'menuindex' => 4,
    'searchable' => 1,
    'cacheable' => 1,
    'createdby' => 1,
    'createdon' => 1303846562,
    'editedby' => 1,
    'editedon' => 1452974369,
    'deleted' => 0,
    'deletedon' => 0,
    'deletedby' => 0,
    'publishedon' => 1303846560,
    'publishedby' => 1,
    'menutitle' => 'Geboorte klompen',
    'donthit' => 0,
    'privateweb' => 0,
    'privatemgr' => 0,
    'content_dispo' => 0,
    'hidemenu' => 0,
    'class_key' => 'modDocument',
    'context_key' => 'web',
    'content_type' => 1,
    'uri' => 'klompen/draagklompen/geboorteklompen.html',
    'uri_override' => 0,
    'hide_children_in_tree' => 0,
    'show_in_tree' => 1,
    'properties' => NULL,
    '_content' => '<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

		<title>Geboorte draagklompen - Het Klompenschuurtje</title>

		<base href="http://local.klompenschuurtje.nl/" />

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png">

        <link rel="stylesheet" href="/assets/css/screen.css">
        <script src="/assets/bower_components/modernizr/modernizr.js"></script>
    </head>
	<body>
		<div class="wrapper">
			<header>
				<nav>
					<div class="center">
						<a href="javascript:;" id="offcanvas-menu">
							<svg class="icon icon-bars"><use xlink:href="/assets/img/symbol-defs.svg#icon-bars"></use></svg>
							<span>Menu</span>
						</a>
						<a href="javascript:;" id="offcanvas-lang">
							<svg class="icon icon-nl"><use xlink:href="/assets/img/symbol-defs.svg#icon-nl"></use></svg>
							<span class="mls">Nederlands</span>
						</a>
                        <ul class="offcanvas main-menu">
	<ul><li>
	<a href="http://local.klompenschuurtje.nl/" class="">Home</a>
</li>
<li>
	<a href="geschiedenis.html" class="">Geschiedenis</a>
</li>
<li>
	<a href="klompen/" class="active">Klompen</a>
</li>
<li>
	<a href="workshops.html" class="">Workshops</a>
</li>
<li>
	<a href="demonstraties.html" class="">Demonstraties</a>
</li>
<li>
	<a href="vraag-en-antwoord/" class="last">Vraag & Antwoord</a>
</li>
</ul>
</ul>

						<ul class="offcanvas lang-menu">
							<li><a href="/nl/" class="active">
								<svg class="icon icon-nl"><use xlink:href="/assets/img/symbol-defs.svg#icon-nl"></use></svg>
								<span class="mls">Nederlands</span>
							</a></li>
							<li><a href="/en/">
								<svg class="icon icon-en"><use xlink:href="/assets/img/symbol-defs.svg#icon-en"></use></svg>
								<span class="mls">English</span>
							</a></li>
							<li><a href="/de/">
								<svg class="icon icon-de"><use xlink:href="/assets/img/symbol-defs.svg#icon-de"></use></svg>
								<span class="mls">Deutsch</span>
							</a></li>
						</ul>
					</div>
				</nav>

				<a href="http://local.klompenschuurtje.nl/" class="center logo"><img src="/assets/img/logo-klompenschuurtje.png" alt="Het Klompenschuurtje"></a>
			</header>
			<main>
<article>
    <div>
<h1>Geboorte Klompen</h1>
<p>Wilt u alleen de naam en/of geboortedatum op een klompje of wilt u een gedeelte van het geboortekaartje op een paar klompjes. Dat is geen enkel probleem. Stuurt u mij het geboortekaartje via post of email en ik maak het voor u. Ook is het mogelijk om een paar geboorteklompjes te bestellen met het favoriete sprookje(s) of stripfiguur erop.</p>
</div>
	<p class="right"><a href="vraag-en-antwoord/infoaanvragen.html?subject=15" class="button">Vraag vrijblijvend<br>meer informatie aan</a></p>

	<div class="photos">
		<div>
			[[!FileLister? &path=`media/klompen/geboorte/` &hideDirectories=`1` &fileTpl=`Product Detail Photos` &showExt=`jpg`]]
		</div>
		<a href="javascript:;" class="btn-prev button">Vorig<br />voorbeeld</a>
		<a href="javascript:;" class="btn-next button">Volgend<br />voorbeeld</a>
	</div>
</article>

<aside>
    <nav>
        <ul>
    <ul><li>
	<a href="/klompen/draagklompen/" class="active">Draagklompen</a>
</li>
<li>
	<a href="/klompen/souvenirs/" class="">Souvenirs</a>
</li>
<li>
	<a href="/klompen/relatiegeschenken.html" class="">Relatiegeschenken</a>
</li>
<li>
	<a href="/klompen/speelgoed.html" class="">Speelgoed</a>
</li>
<li>
	<a href="/klompen/diversen/" class="">Diversen</a>
</li>
</ul>
</ul>
    </nav>
    <div class="share">
	<p><img src="/assets/img/brand.png" alt="Klompenschuurtje beeldmerk" class="brand"><span>Deel het Klompenschuurtje</span></p>
	<ul>
		<li><a href="http://twitter.com/home?status=Dit%20is%20een%20mooie%20website%20over%20klompen%3A%20http%3A%2F%2Fwww.klompenschuurtje.nl" target="_blank"><img src="/assets/img/share-twitter.png" alt="Twitter"></a></li>
		<li><a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.klompenschuurtje.nl&t=Ik%20heb%20een%20leuke%20site%20over%20klompen%20gevonden!" target="_blank"><img src="/assets/img/share-facebook.png" alt="Facebook"></a></li>
		<li><a href="
https://plus.google.com/share?url=http%3A%2F%2Fwww.klompenschuurtje.nl" target="_blank"><img src="/assets/img/share-googleplus.png" alt="Google+"></a></li>
		<li><a data-pin-do="buttonPin" target="_blank" href="https://www.pinterest.com/pin/create/button/?url=http%3A%2F%2Fklompenschuurtje.nl%2F&media=http%3A%2F%2Fklompenschuurtje.nl%2Fassets%2Fimg%2Flogo-klompenschuurtje.png&description=Het%20Klompenschuurtje%3A%20klompenmakerij%2C%20winkel%20en%20museum%20in%20%C3%A9%C3%A9n."><img src="/assets/img/share-pinterest.png" alt="Pinterest"></a></li>
	</ul>
</div>
</aside>
			</main>

			<footer>
				<div class="footerContent">				
					<div class="info">				
						<p><strong>Klompenschuurtje, Helmondseweg 3B, 5735 RA Aarle-Rixtel. KvK nummer: 17231776</strong><br>
						Meer informatie bel 06 229 948 80 of e-mail nicole@klompenschuurtje.nl</p>
					</div>
					<div class="webbiker">
						<a href="http://www.webbiker.nl" target="_blank"><img src="/assets/img/logo-webbiker.png" alt="Webbiker"></a>
					</div>
				</div>
			</footer>
		</div>
	</body>
    <script src="/assets/js/app-min.js"></script>

    <!-- Google Analytics: change UA-XXXXX-X to be your site\'s ID. -->
    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src=\'https://www.google-analytics.com/analytics.js\';
        r.parentNode.insertBefore(e,r)}(window,document,\'script\',\'ga\'));
        ga(\'create\',\'UA-XXXXX-X\',\'auto\');ga(\'send\',\'pageview\');
    </script>
</html>',
    '_isForward' => false,
  ),
  'contentType' => 
  array (
    'id' => 1,
    'name' => 'HTML',
    'description' => 'HTML content',
    'mime_type' => 'text/html',
    'file_extensions' => '.html',
    'headers' => NULL,
    'binary' => 0,
  ),
  'policyCache' => 
  array (
  ),
  'elementCache' => 
  array (
    '[[*longtitle]]' => 'Geboorte draagklompen',
    '[[Wayfinder?
	    &startId=`0`
	    &level=`1`
	    &firstClass=``
	    &lastClass=`last`
	    &rowTpl=`Navigation Main Item`
	    &hereClass=`active`
	]]' => '<ul><li>
	<a href="http://local.klompenschuurtje.nl/" class="">Home</a>
</li>
<li>
	<a href="geschiedenis.html" class="">Geschiedenis</a>
</li>
<li>
	<a href="klompen/" class="active">Klompen</a>
</li>
<li>
	<a href="workshops.html" class="">Workshops</a>
</li>
<li>
	<a href="demonstraties.html" class="">Demonstraties</a>
</li>
<li>
	<a href="vraag-en-antwoord/" class="last">Vraag & Antwoord</a>
</li>
</ul>',
    '[[$Navigation Main? ]]' => '<ul class="offcanvas main-menu">
	<ul><li>
	<a href="http://local.klompenschuurtje.nl/" class="">Home</a>
</li>
<li>
	<a href="geschiedenis.html" class="">Geschiedenis</a>
</li>
<li>
	<a href="klompen/" class="active">Klompen</a>
</li>
<li>
	<a href="workshops.html" class="">Workshops</a>
</li>
<li>
	<a href="demonstraties.html" class="">Demonstraties</a>
</li>
<li>
	<a href="vraag-en-antwoord/" class="last">Vraag & Antwoord</a>
</li>
</ul>
</ul>',
    '[[$Header? ]]' => '<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

		<title>Geboorte draagklompen - Het Klompenschuurtje</title>

		<base href="http://local.klompenschuurtje.nl/" />

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png">

        <link rel="stylesheet" href="/assets/css/screen.css">
        <script src="/assets/bower_components/modernizr/modernizr.js"></script>
    </head>
	<body>
		<div class="wrapper">
			<header>
				<nav>
					<div class="center">
						<a href="javascript:;" id="offcanvas-menu">
							<svg class="icon icon-bars"><use xlink:href="/assets/img/symbol-defs.svg#icon-bars"></use></svg>
							<span>Menu</span>
						</a>
						<a href="javascript:;" id="offcanvas-lang">
							<svg class="icon icon-nl"><use xlink:href="/assets/img/symbol-defs.svg#icon-nl"></use></svg>
							<span class="mls">Nederlands</span>
						</a>
                        <ul class="offcanvas main-menu">
	<ul><li>
	<a href="http://local.klompenschuurtje.nl/" class="">Home</a>
</li>
<li>
	<a href="geschiedenis.html" class="">Geschiedenis</a>
</li>
<li>
	<a href="klompen/" class="active">Klompen</a>
</li>
<li>
	<a href="workshops.html" class="">Workshops</a>
</li>
<li>
	<a href="demonstraties.html" class="">Demonstraties</a>
</li>
<li>
	<a href="vraag-en-antwoord/" class="last">Vraag & Antwoord</a>
</li>
</ul>
</ul>

						<ul class="offcanvas lang-menu">
							<li><a href="/nl/" class="active">
								<svg class="icon icon-nl"><use xlink:href="/assets/img/symbol-defs.svg#icon-nl"></use></svg>
								<span class="mls">Nederlands</span>
							</a></li>
							<li><a href="/en/">
								<svg class="icon icon-en"><use xlink:href="/assets/img/symbol-defs.svg#icon-en"></use></svg>
								<span class="mls">English</span>
							</a></li>
							<li><a href="/de/">
								<svg class="icon icon-de"><use xlink:href="/assets/img/symbol-defs.svg#icon-de"></use></svg>
								<span class="mls">Deutsch</span>
							</a></li>
						</ul>
					</div>
				</nav>

				<a href="http://local.klompenschuurtje.nl/" class="center logo"><img src="/assets/img/logo-klompenschuurtje.png" alt="Het Klompenschuurtje"></a>
			</header>
			<main>',
    '[[~20]]' => 'vraag-en-antwoord/infoaanvragen.html',
    '[[*id]]' => 15,
    '[[*Media folder?]]' => 'media/klompen/geboorte/',
    '[[Wayfinder?
        &startId=`3`
        &level=`1`
        &firstClass=``
        &lastClass=``
        &rowTpl=`Navigation Sub Item`
        &hereClass=`active`
    ]]' => '<ul><li>
	<a href="/klompen/draagklompen/" class="active">Draagklompen</a>
</li>
<li>
	<a href="/klompen/souvenirs/" class="">Souvenirs</a>
</li>
<li>
	<a href="/klompen/relatiegeschenken.html" class="">Relatiegeschenken</a>
</li>
<li>
	<a href="/klompen/speelgoed.html" class="">Speelgoed</a>
</li>
<li>
	<a href="/klompen/diversen/" class="">Diversen</a>
</li>
</ul>',
    '[[$Navigation Sub? ]]' => '<ul>
    <ul><li>
	<a href="/klompen/draagklompen/" class="active">Draagklompen</a>
</li>
<li>
	<a href="/klompen/souvenirs/" class="">Souvenirs</a>
</li>
<li>
	<a href="/klompen/relatiegeschenken.html" class="">Relatiegeschenken</a>
</li>
<li>
	<a href="/klompen/speelgoed.html" class="">Speelgoed</a>
</li>
<li>
	<a href="/klompen/diversen/" class="">Diversen</a>
</li>
</ul>
</ul>',
    '[[$Share Sidebar? ]]' => '<div class="share">
	<p><img src="/assets/img/brand.png" alt="Klompenschuurtje beeldmerk" class="brand"><span>Deel het Klompenschuurtje</span></p>
	<ul>
		<li><a href="http://twitter.com/home?status=Dit%20is%20een%20mooie%20website%20over%20klompen%3A%20http%3A%2F%2Fwww.klompenschuurtje.nl" target="_blank"><img src="/assets/img/share-twitter.png" alt="Twitter"></a></li>
		<li><a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.klompenschuurtje.nl&t=Ik%20heb%20een%20leuke%20site%20over%20klompen%20gevonden!" target="_blank"><img src="/assets/img/share-facebook.png" alt="Facebook"></a></li>
		<li><a href="
https://plus.google.com/share?url=http%3A%2F%2Fwww.klompenschuurtje.nl" target="_blank"><img src="/assets/img/share-googleplus.png" alt="Google+"></a></li>
		<li><a data-pin-do="buttonPin" target="_blank" href="https://www.pinterest.com/pin/create/button/?url=http%3A%2F%2Fklompenschuurtje.nl%2F&media=http%3A%2F%2Fklompenschuurtje.nl%2Fassets%2Fimg%2Flogo-klompenschuurtje.png&description=Het%20Klompenschuurtje%3A%20klompenmakerij%2C%20winkel%20en%20museum%20in%20%C3%A9%C3%A9n."><img src="/assets/img/share-pinterest.png" alt="Pinterest"></a></li>
	</ul>
</div>',
    '[[$Footer? ]]' => '			</main>

			<footer>
				<div class="footerContent">				
					<div class="info">				
						<p><strong>Klompenschuurtje, Helmondseweg 3B, 5735 RA Aarle-Rixtel. KvK nummer: 17231776</strong><br>
						Meer informatie bel 06 229 948 80 of e-mail nicole@klompenschuurtje.nl</p>
					</div>
					<div class="webbiker">
						<a href="http://www.webbiker.nl" target="_blank"><img src="/assets/img/logo-webbiker.png" alt="Webbiker"></a>
					</div>
				</div>
			</footer>
		</div>
	</body>
    <script src="/assets/js/app-min.js"></script>

    <!-- Google Analytics: change UA-XXXXX-X to be your site\'s ID. -->
    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src=\'https://www.google-analytics.com/analytics.js\';
        r.parentNode.insertBefore(e,r)}(window,document,\'script\',\'ga\'));
        ga(\'create\',\'UA-XXXXX-X\',\'auto\');ga(\'send\',\'pageview\');
    </script>
</html>',
    '[[~15]]' => 'klompen/draagklompen/geboorteklompen.html',
  ),
  'sourceCache' => 
  array (
    'modChunk' => 
    array (
      'Header' => 
      array (
        'fields' => 
        array (
          'id' => 27,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'Header',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

		<title>[[*longtitle]] - [[++site_name]]</title>

		<base href="[[++site_url]]" />

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png">

        <link rel="stylesheet" href="/assets/css/screen.css">
        <script src="/assets/bower_components/modernizr/modernizr.js"></script>
    </head>
	<body>
		<div class="wrapper">
			<header>
				<nav>
					<div class="center">
						<a href="javascript:;" id="offcanvas-menu">
							<svg class="icon icon-bars"><use xlink:href="/assets/img/symbol-defs.svg#icon-bars"></use></svg>
							<span>Menu</span>
						</a>
						<a href="javascript:;" id="offcanvas-lang">
							<svg class="icon icon-nl"><use xlink:href="/assets/img/symbol-defs.svg#icon-nl"></use></svg>
							<span class="mls">Nederlands</span>
						</a>
                        [[$Navigation Main? ]]

						<ul class="offcanvas lang-menu">
							<li><a href="/nl/" class="active">
								<svg class="icon icon-nl"><use xlink:href="/assets/img/symbol-defs.svg#icon-nl"></use></svg>
								<span class="mls">Nederlands</span>
							</a></li>
							<li><a href="/en/">
								<svg class="icon icon-en"><use xlink:href="/assets/img/symbol-defs.svg#icon-en"></use></svg>
								<span class="mls">English</span>
							</a></li>
							<li><a href="/de/">
								<svg class="icon icon-de"><use xlink:href="/assets/img/symbol-defs.svg#icon-de"></use></svg>
								<span class="mls">Deutsch</span>
							</a></li>
						</ul>
					</div>
				</nav>

				<a href="[[++site_url]]" class="center logo"><img src="/assets/img/logo-klompenschuurtje.png" alt="Het Klompenschuurtje"></a>
			</header>
			<main>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => true,
          'static_file' => 'assets/chunks/header.tpl',
          'content' => '<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

		<title>[[*longtitle]] - [[++site_name]]</title>

		<base href="[[++site_url]]" />

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png">

        <link rel="stylesheet" href="/assets/css/screen.css">
        <script src="/assets/bower_components/modernizr/modernizr.js"></script>
    </head>
	<body>
		<div class="wrapper">
			<header>
				<nav>
					<div class="center">
						<a href="javascript:;" id="offcanvas-menu">
							<svg class="icon icon-bars"><use xlink:href="/assets/img/symbol-defs.svg#icon-bars"></use></svg>
							<span>Menu</span>
						</a>
						<a href="javascript:;" id="offcanvas-lang">
							<svg class="icon icon-nl"><use xlink:href="/assets/img/symbol-defs.svg#icon-nl"></use></svg>
							<span class="mls">Nederlands</span>
						</a>
                        [[$Navigation Main? ]]

						<ul class="offcanvas lang-menu">
							<li><a href="/nl/" class="active">
								<svg class="icon icon-nl"><use xlink:href="/assets/img/symbol-defs.svg#icon-nl"></use></svg>
								<span class="mls">Nederlands</span>
							</a></li>
							<li><a href="/en/">
								<svg class="icon icon-en"><use xlink:href="/assets/img/symbol-defs.svg#icon-en"></use></svg>
								<span class="mls">English</span>
							</a></li>
							<li><a href="/de/">
								<svg class="icon icon-de"><use xlink:href="/assets/img/symbol-defs.svg#icon-de"></use></svg>
								<span class="mls">Deutsch</span>
							</a></li>
						</ul>
					</div>
				</nav>

				<a href="[[++site_url]]" class="center logo"><img src="/assets/img/logo-klompenschuurtje.png" alt="Het Klompenschuurtje"></a>
			</header>
			<main>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'Navigation Main' => 
      array (
        'fields' => 
        array (
          'id' => 22,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'Navigation Main',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<ul class="offcanvas main-menu">
	[[Wayfinder?
	    &startId=`0`
	    &level=`1`
	    &firstClass=``
	    &lastClass=`last`
	    &rowTpl=`Navigation Main Item`
	    &hereClass=`active`
	]]
</ul>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => true,
          'static_file' => 'assets/chunks/navigation-main.tpl',
          'content' => '<ul class="offcanvas main-menu">
	[[Wayfinder?
	    &startId=`0`
	    &level=`1`
	    &firstClass=``
	    &lastClass=`last`
	    &rowTpl=`Navigation Main Item`
	    &hereClass=`active`
	]]
</ul>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'Navigation Sub' => 
      array (
        'fields' => 
        array (
          'id' => 28,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'Navigation Sub',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<ul>
    [[Wayfinder?
        &startId=`3`
        &level=`1`
        &firstClass=``
        &lastClass=``
        &rowTpl=`Navigation Sub Item`
        &hereClass=`active`
    ]]
</ul>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => true,
          'static_file' => 'assets/chunks/navigation-sub.tpl',
          'content' => '<ul>
    [[Wayfinder?
        &startId=`3`
        &level=`1`
        &firstClass=``
        &lastClass=``
        &rowTpl=`Navigation Sub Item`
        &hereClass=`active`
    ]]
</ul>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'Share Sidebar' => 
      array (
        'fields' => 
        array (
          'id' => 38,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'Share Sidebar',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<div class="share">
	<p><img src="/assets/img/brand.png" alt="Klompenschuurtje beeldmerk" class="brand"><span>Deel het Klompenschuurtje</span></p>
	<ul>
		<li><a href="http://twitter.com/home?status=Dit%20is%20een%20mooie%20website%20over%20klompen%3A%20http%3A%2F%2Fwww.klompenschuurtje.nl" target="_blank"><img src="/assets/img/share-twitter.png" alt="Twitter"></a></li>
		<li><a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.klompenschuurtje.nl&t=Ik%20heb%20een%20leuke%20site%20over%20klompen%20gevonden!" target="_blank"><img src="/assets/img/share-facebook.png" alt="Facebook"></a></li>
		<li><a href="
https://plus.google.com/share?url=http%3A%2F%2Fwww.klompenschuurtje.nl" target="_blank"><img src="/assets/img/share-googleplus.png" alt="Google+"></a></li>
		<li><a data-pin-do="buttonPin" target="_blank" href="https://www.pinterest.com/pin/create/button/?url=http%3A%2F%2Fklompenschuurtje.nl%2F&media=http%3A%2F%2Fklompenschuurtje.nl%2Fassets%2Fimg%2Flogo-klompenschuurtje.png&description=Het%20Klompenschuurtje%3A%20klompenmakerij%2C%20winkel%20en%20museum%20in%20%C3%A9%C3%A9n."><img src="/assets/img/share-pinterest.png" alt="Pinterest"></a></li>
	</ul>
</div>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => true,
          'static_file' => 'assets/chunks/share-aside.tpl',
          'content' => '<div class="share">
	<p><img src="/assets/img/brand.png" alt="Klompenschuurtje beeldmerk" class="brand"><span>Deel het Klompenschuurtje</span></p>
	<ul>
		<li><a href="http://twitter.com/home?status=Dit%20is%20een%20mooie%20website%20over%20klompen%3A%20http%3A%2F%2Fwww.klompenschuurtje.nl" target="_blank"><img src="/assets/img/share-twitter.png" alt="Twitter"></a></li>
		<li><a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.klompenschuurtje.nl&t=Ik%20heb%20een%20leuke%20site%20over%20klompen%20gevonden!" target="_blank"><img src="/assets/img/share-facebook.png" alt="Facebook"></a></li>
		<li><a href="
https://plus.google.com/share?url=http%3A%2F%2Fwww.klompenschuurtje.nl" target="_blank"><img src="/assets/img/share-googleplus.png" alt="Google+"></a></li>
		<li><a data-pin-do="buttonPin" target="_blank" href="https://www.pinterest.com/pin/create/button/?url=http%3A%2F%2Fklompenschuurtje.nl%2F&media=http%3A%2F%2Fklompenschuurtje.nl%2Fassets%2Fimg%2Flogo-klompenschuurtje.png&description=Het%20Klompenschuurtje%3A%20klompenmakerij%2C%20winkel%20en%20museum%20in%20%C3%A9%C3%A9n."><img src="/assets/img/share-pinterest.png" alt="Pinterest"></a></li>
	</ul>
</div>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'Footer' => 
      array (
        'fields' => 
        array (
          'id' => 24,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'Footer',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '			</main>

			<footer>
				<div class="footerContent">				
					<div class="info">				
						<p><strong>Klompenschuurtje, Helmondseweg 3B, 5735 RA Aarle-Rixtel. KvK nummer: 17231776</strong><br>
						Meer informatie bel 06 229 948 80 of e-mail nicole@klompenschuurtje.nl</p>
					</div>
					<div class="webbiker">
						<a href="http://www.webbiker.nl" target="_blank"><img src="/assets/img/logo-webbiker.png" alt="Webbiker"></a>
					</div>
				</div>
			</footer>
		</div>
	</body>
    <script src="/assets/js/app-min.js"></script>

    <!-- Google Analytics: change UA-XXXXX-X to be your site\'s ID. -->
    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src=\'https://www.google-analytics.com/analytics.js\';
        r.parentNode.insertBefore(e,r)}(window,document,\'script\',\'ga\'));
        ga(\'create\',\'UA-XXXXX-X\',\'auto\');ga(\'send\',\'pageview\');
    </script>
</html>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => true,
          'static_file' => 'assets/chunks/footer.tpl',
          'content' => '			</main>

			<footer>
				<div class="footerContent">				
					<div class="info">				
						<p><strong>Klompenschuurtje, Helmondseweg 3B, 5735 RA Aarle-Rixtel. KvK nummer: 17231776</strong><br>
						Meer informatie bel 06 229 948 80 of e-mail nicole@klompenschuurtje.nl</p>
					</div>
					<div class="webbiker">
						<a href="http://www.webbiker.nl" target="_blank"><img src="/assets/img/logo-webbiker.png" alt="Webbiker"></a>
					</div>
				</div>
			</footer>
		</div>
	</body>
    <script src="/assets/js/app-min.js"></script>

    <!-- Google Analytics: change UA-XXXXX-X to be your site\'s ID. -->
    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src=\'https://www.google-analytics.com/analytics.js\';
        r.parentNode.insertBefore(e,r)}(window,document,\'script\',\'ga\'));
        ga(\'create\',\'UA-XXXXX-X\',\'auto\');ga(\'send\',\'pageview\');
    </script>
</html>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
    'modSnippet' => 
    array (
      'Wayfinder' => 
      array (
        'fields' => 
        array (
          'id' => 1,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'Wayfinder',
          'description' => 'Wayfinder for MODx Revolution 2.0.0-beta-5 and later.',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '/**
 * Wayfinder Snippet to build site navigation menus
 *
 * Totally refactored from original DropMenu nav builder to make it easier to
 * create custom navigation by using chunks as output templates. By using
 * templates, many of the paramaters are no longer needed for flexible output
 * including tables, unordered- or ordered-lists (ULs or OLs), definition lists
 * (DLs) or in any other format you desire.
 *
 * @version 2.1.1-beta5
 * @author Garry Nutting (collabpad.com)
 * @author Kyle Jaebker (muddydogpaws.com)
 * @author Ryan Thrash (modx.com)
 * @author Shaun McCormick (modx.com)
 * @author Jason Coward (modx.com)
 *
 * @example [[Wayfinder? &startId=`0`]]
 *
 * @var modX $modx
 * @var array $scriptProperties
 * 
 * @package wayfinder
 */
$wayfinder_base = $modx->getOption(\'wayfinder.core_path\',$scriptProperties,$modx->getOption(\'core_path\').\'components/wayfinder/\');

/* include a custom config file if specified */
if (isset($scriptProperties[\'config\'])) {
    $scriptProperties[\'config\'] = str_replace(\'../\',\'\',$scriptProperties[\'config\']);
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/\'.$scriptProperties[\'config\'].\'.config.php\';
} else {
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/default.config.php\';
}
if (file_exists($scriptProperties[\'config\'])) {
    include $scriptProperties[\'config\'];
}

/* include wayfinder class */
include_once $wayfinder_base.\'wayfinder.class.php\';
if (!$modx->loadClass(\'Wayfinder\',$wayfinder_base,true,true)) {
    return \'error: Wayfinder class not found\';
}
$wf = new Wayfinder($modx,$scriptProperties);

/* get user class definitions
 * TODO: eventually move these into config parameters */
$wf->_css = array(
    \'first\' => isset($firstClass) ? $firstClass : \'\',
    \'last\' => isset($lastClass) ? $lastClass : \'last\',
    \'here\' => isset($hereClass) ? $hereClass : \'active\',
    \'parent\' => isset($parentClass) ? $parentClass : \'\',
    \'row\' => isset($rowClass) ? $rowClass : \'\',
    \'outer\' => isset($outerClass) ? $outerClass : \'\',
    \'inner\' => isset($innerClass) ? $innerClass : \'\',
    \'level\' => isset($levelClass) ? $levelClass: \'\',
    \'self\' => isset($selfClass) ? $selfClass : \'\',
    \'weblink\' => isset($webLinkClass) ? $webLinkClass : \'\'
);

/* get user templates
 * TODO: eventually move these into config parameters */
$wf->_templates = array(
    \'outerTpl\' => isset($outerTpl) ? $outerTpl : \'\',
    \'rowTpl\' => isset($rowTpl) ? $rowTpl : \'\',
    \'parentRowTpl\' => isset($parentRowTpl) ? $parentRowTpl : \'\',
    \'parentRowHereTpl\' => isset($parentRowHereTpl) ? $parentRowHereTpl : \'\',
    \'hereTpl\' => isset($hereTpl) ? $hereTpl : \'\',
    \'innerTpl\' => isset($innerTpl) ? $innerTpl : \'\',
    \'innerRowTpl\' => isset($innerRowTpl) ? $innerRowTpl : \'\',
    \'innerHereTpl\' => isset($innerHereTpl) ? $innerHereTpl : \'\',
    \'activeParentRowTpl\' => isset($activeParentRowTpl) ? $activeParentRowTpl : \'\',
    \'categoryFoldersTpl\' => isset($categoryFoldersTpl) ? $categoryFoldersTpl : \'\',
    \'startItemTpl\' => isset($startItemTpl) ? $startItemTpl : \'\'
);

/* process Wayfinder */
$output = $wf->run();
if ($wf->_config[\'debug\']) {
    $output .= $wf->renderDebugOutput();
}

/* output results */
if ($wf->_config[\'ph\']) {
    $modx->setPlaceholder($wf->_config[\'ph\'],$output);
} else {
    return $output;
}',
          'locked' => false,
          'properties' => 
          array (
            'level' => 
            array (
              'name' => 'level',
              'desc' => 'prop_wayfinder.level_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Depth (number of levels) to build the menu from. 0 goes through all levels.',
              'area' => '',
              'area_trans' => '',
            ),
            'includeDocs' => 
            array (
              'name' => 'includeDocs',
              'desc' => 'prop_wayfinder.includeDocs_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Acts as a filter and will limit the output to only the documents specified in this parameter. The startId is still required.',
              'area' => '',
              'area_trans' => '',
            ),
            'excludeDocs' => 
            array (
              'name' => 'excludeDocs',
              'desc' => 'prop_wayfinder.excludeDocs_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Acts as a filter and will remove the documents specified in this parameter from the output. The startId is still required.',
              'area' => '',
              'area_trans' => '',
            ),
            'contexts' => 
            array (
              'name' => 'contexts',
              'desc' => 'prop_wayfinder.contexts_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Specify the contexts for the Resources that will be loaded in this menu. Useful when used with startId at 0 to show all first-level items. Note: This will increase load times a bit, but if you set cacheResults to 1, that will offset the load time.',
              'area' => '',
              'area_trans' => '',
            ),
            'cacheResults' => 
            array (
              'name' => 'cacheResults',
              'desc' => 'prop_wayfinder.cacheResults_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Cache the generated menu to the MODX Resource cache. Setting this to 1 will speed up the loading of your menus.',
              'area' => '',
              'area_trans' => '',
            ),
            'cacheTime' => 
            array (
              'name' => 'cacheTime',
              'desc' => 'prop_wayfinder.cacheTime_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 3600,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'The number of seconds to store the cached menu, if cacheResults is 1. Set to 0 to store indefinitely until cache is manually cleared.',
              'area' => '',
              'area_trans' => '',
            ),
            'ph' => 
            array (
              'name' => 'ph',
              'desc' => 'prop_wayfinder.ph_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'To display send the output of Wayfinder to a placeholder set the ph parameter equal to the name of the desired placeholder. All output including the debugging (if on) will be sent to the placeholder specified.',
              'area' => '',
              'area_trans' => '',
            ),
            'debug' => 
            array (
              'name' => 'debug',
              'desc' => 'prop_wayfinder.debug_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'With the debug parameter set to 1, Wayfinder will output information on how each Resource was processed.',
              'area' => '',
              'area_trans' => '',
            ),
            'ignoreHidden' => 
            array (
              'name' => 'ignoreHidden',
              'desc' => 'prop_wayfinder.ignoreHidden_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'The ignoreHidden parameter allows Wayfinder to ignore the display in menu flag that can be set for each document. With this parameter set to 1, all Resources will be displayed regardless of the Display in Menu flag.',
              'area' => '',
              'area_trans' => '',
            ),
            'hideSubMenus' => 
            array (
              'name' => 'hideSubMenus',
              'desc' => 'prop_wayfinder.hideSubMenus_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'The hideSubMenus parameter will remove all non-active submenus from the Wayfinder output if set to 1. This parameter only works if multiple levels are being displayed.',
              'area' => '',
              'area_trans' => '',
            ),
            'useWeblinkUrl' => 
            array (
              'name' => 'useWeblinkUrl',
              'desc' => 'prop_wayfinder.useWeblinkUrl_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => ' If WebLinks are used in the output, Wayfinder will output the link specified in the WebLink instead of the normal MODx link. To use the standard display of WebLinks (like any other Resource) set this to 0.',
              'area' => '',
              'area_trans' => '',
            ),
            'fullLink' => 
            array (
              'name' => 'fullLink',
              'desc' => 'prop_wayfinder.fullLink_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'If set to 1, will display the entire, absolute URL in the link. (It is recommended to use scheme instead.)',
              'area' => '',
              'area_trans' => '',
            ),
            'scheme' => 
            array (
              'name' => 'scheme',
              'desc' => 'prop_wayfinder.scheme_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'prop_wayfinder.relative',
                  'value' => '',
                  'name' => 'Relative',
                ),
                1 => 
                array (
                  'text' => 'prop_wayfinder.absolute',
                  'value' => 'abs',
                  'name' => 'Absolute',
                ),
                2 => 
                array (
                  'text' => 'prop_wayfinder.full',
                  'value' => 'full',
                  'name' => 'Full',
                ),
              ),
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Determines how URLs are generated for each link. Set to "abs" to show the absolute URL, "full" to show the full URL, and blank to use the relative URL. Defaults to relative.',
              'area' => '',
              'area_trans' => '',
            ),
            'sortOrder' => 
            array (
              'name' => 'sortOrder',
              'desc' => 'prop_wayfinder.sortOrder_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'prop_wayfinder.ascending',
                  'value' => 'ASC',
                  'name' => 'Ascending',
                ),
                1 => 
                array (
                  'text' => 'prop_wayfinder.descending',
                  'value' => 'DESC',
                  'name' => 'Descending',
                ),
              ),
              'value' => 'ASC',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Allows the menu to be sorted in either ascending or descending order.',
              'area' => '',
              'area_trans' => '',
            ),
            'sortBy' => 
            array (
              'name' => 'sortBy',
              'desc' => 'prop_wayfinder.sortBy_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'menuindex',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Sorts the output by any of the Resource fields on a level by level basis. This means that each submenu will be sorted independently of all other submenus at the same level. Random will sort the output differently every time the page is loaded if the snippet is called uncached.',
              'area' => '',
              'area_trans' => '',
            ),
            'limit' => 
            array (
              'name' => 'limit',
              'desc' => 'prop_wayfinder.limit_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Causes Wayfinder to only process the number of items specified per level.',
              'area' => '',
              'area_trans' => '',
            ),
            'cssTpl' => 
            array (
              'name' => 'cssTpl',
              'desc' => 'prop_wayfinder.cssTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This parameter allows for a chunk containing a link to a style sheet or style information to be inserted into the head section of the generated page.',
              'area' => '',
              'area_trans' => '',
            ),
            'jsTpl' => 
            array (
              'name' => 'jsTpl',
              'desc' => 'prop_wayfinder.jsTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This parameter allows for a chunk containing some Javascript to be inserted into the head section of the generated page.',
              'area' => '',
              'area_trans' => '',
            ),
            'rowIdPrefix' => 
            array (
              'name' => 'rowIdPrefix',
              'desc' => 'prop_wayfinder.rowIdPrefix_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'If set, Wayfinder will replace the id placeholder with a unique id consisting of the specified prefix plus the Resource id.',
              'area' => '',
              'area_trans' => '',
            ),
            'textOfLinks' => 
            array (
              'name' => 'textOfLinks',
              'desc' => 'prop_wayfinder.textOfLinks_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'menutitle',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This field will be inserted into the linktext placeholder.',
              'area' => '',
              'area_trans' => '',
            ),
            'titleOfLinks' => 
            array (
              'name' => 'titleOfLinks',
              'desc' => 'prop_wayfinder.titleOfLinks_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'pagetitle',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This field will be inserted into the linktitle placeholder.',
              'area' => '',
              'area_trans' => '',
            ),
            'displayStart' => 
            array (
              'name' => 'displayStart',
              'desc' => 'prop_wayfinder.displayStart_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Show the document as referenced by startId in the menu.',
              'area' => '',
              'area_trans' => '',
            ),
            'firstClass' => 
            array (
              'name' => 'firstClass',
              'desc' => 'prop_wayfinder.firstClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'first',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the first item at a given menu level.',
              'area' => '',
              'area_trans' => '',
            ),
            'lastClass' => 
            array (
              'name' => 'lastClass',
              'desc' => 'prop_wayfinder.lastClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'last',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the last item at a given menu level.',
              'area' => '',
              'area_trans' => '',
            ),
            'hereClass' => 
            array (
              'name' => 'hereClass',
              'desc' => 'prop_wayfinder.hereClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'active',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the items showing where you are, all the way up the chain.',
              'area' => '',
              'area_trans' => '',
            ),
            'parentClass' => 
            array (
              'name' => 'parentClass',
              'desc' => 'prop_wayfinder.parentClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for menu items that are a container and have children.',
              'area' => '',
              'area_trans' => '',
            ),
            'rowClass' => 
            array (
              'name' => 'rowClass',
              'desc' => 'prop_wayfinder.rowClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class denoting each output row.',
              'area' => '',
              'area_trans' => '',
            ),
            'outerClass' => 
            array (
              'name' => 'outerClass',
              'desc' => 'prop_wayfinder.outerClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the outer template.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerClass' => 
            array (
              'name' => 'innerClass',
              'desc' => 'prop_wayfinder.innerClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the inner template.',
              'area' => '',
              'area_trans' => '',
            ),
            'levelClass' => 
            array (
              'name' => 'levelClass',
              'desc' => 'prop_wayfinder.levelClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class denoting every output row level. The level number will be added to the specified class (level1, level2, level3 etc if you specified "level").',
              'area' => '',
              'area_trans' => '',
            ),
            'selfClass' => 
            array (
              'name' => 'selfClass',
              'desc' => 'prop_wayfinder.selfClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the current item.',
              'area' => '',
              'area_trans' => '',
            ),
            'webLinkClass' => 
            array (
              'name' => 'webLinkClass',
              'desc' => 'prop_wayfinder.webLinkClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for weblink items.',
              'area' => '',
              'area_trans' => '',
            ),
            'outerTpl' => 
            array (
              'name' => 'outerTpl',
              'desc' => 'prop_wayfinder.outerTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the outer most container; if not included, a string including "<ul>[[+wf.wrapper]]</ul>" is assumed.',
              'area' => '',
              'area_trans' => '',
            ),
            'rowTpl' => 
            array (
              'name' => 'rowTpl',
              'desc' => 'prop_wayfinder.rowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the regular row items.',
              'area' => '',
              'area_trans' => '',
            ),
            'parentRowTpl' => 
            array (
              'name' => 'parentRowTpl',
              'desc' => 'prop_wayfinder.parentRowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for any Resource that is a container and has children. Remember the [wf.wrapper] placeholder to output the children documents.',
              'area' => '',
              'area_trans' => '',
            ),
            'parentRowHereTpl' => 
            array (
              'name' => 'parentRowHereTpl',
              'desc' => 'prop_wayfinder.parentRowHereTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the current Resource if it is a container and has children. Remember the [wf.wrapper] placeholder to output the children documents.',
              'area' => '',
              'area_trans' => '',
            ),
            'hereTpl' => 
            array (
              'name' => 'hereTpl',
              'desc' => 'prop_wayfinder.hereTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the current Resource.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerTpl' => 
            array (
              'name' => 'innerTpl',
              'desc' => 'prop_wayfinder.innerTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for each submenu. If no innerTpl is specified the outerTpl is used in its place.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerRowTpl' => 
            array (
              'name' => 'innerRowTpl',
              'desc' => 'prop_wayfinder.innerRowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the row items in a subfolder.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerHereTpl' => 
            array (
              'name' => 'innerHereTpl',
              'desc' => 'prop_wayfinder.innerHereTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the current Resource if it is in a subfolder.',
              'area' => '',
              'area_trans' => '',
            ),
            'activeParentRowTpl' => 
            array (
              'name' => 'activeParentRowTpl',
              'desc' => 'prop_wayfinder.activeParentRowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for items that are containers, have children and are currently active in the tree.',
              'area' => '',
              'area_trans' => '',
            ),
            'categoryFoldersTpl' => 
            array (
              'name' => 'categoryFoldersTpl',
              'desc' => 'prop_wayfinder.categoryFoldersTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for category folders. Category folders are determined by setting the template to blank or by setting the link attributes field to rel="category".',
              'area' => '',
              'area_trans' => '',
            ),
            'startItemTpl' => 
            array (
              'name' => 'startItemTpl',
              'desc' => 'prop_wayfinder.startItemTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the start item, if enabled via the &displayStart parameter. Note: the default template shows the start item but does not link it. If you do not need a link, a class can be applied to the default template using the parameter &firstClass=`className`.',
              'area' => '',
              'area_trans' => '',
            ),
            'permissions' => 
            array (
              'name' => 'permissions',
              'desc' => 'prop_wayfinder.permissions_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'list',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Will check for a permission on the Resource. Defaults to "list" - set to blank to skip normal permissions checks.',
              'area' => '',
              'area_trans' => '',
            ),
            'hereId' => 
            array (
              'name' => 'hereId',
              'desc' => 'prop_wayfinder.hereId_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. If set, will change the "here" Resource to this ID. Defaults to the currently active Resource.',
              'area' => '',
              'area_trans' => '',
            ),
            'where' => 
            array (
              'name' => 'where',
              'desc' => 'prop_wayfinder.where_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. A JSON object for where conditions for all items selected in the menu.',
              'area' => '',
              'area_trans' => '',
            ),
            'templates' => 
            array (
              'name' => 'templates',
              'desc' => 'prop_wayfinder.templates_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. A comma-separated list of Template IDs to restrict selected Resources to.',
              'area' => '',
              'area_trans' => '',
            ),
            'previewUnpublished' => 
            array (
              'name' => 'previewUnpublished',
              'desc' => 'prop_wayfinder.previewunpublished_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. If set to Yes, if you are logged into the mgr and have the view_unpublished permission, it will allow previewing of unpublished resources in your menus in the front-end.',
              'area' => '',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * Wayfinder Snippet to build site navigation menus
 *
 * Totally refactored from original DropMenu nav builder to make it easier to
 * create custom navigation by using chunks as output templates. By using
 * templates, many of the paramaters are no longer needed for flexible output
 * including tables, unordered- or ordered-lists (ULs or OLs), definition lists
 * (DLs) or in any other format you desire.
 *
 * @version 2.1.1-beta5
 * @author Garry Nutting (collabpad.com)
 * @author Kyle Jaebker (muddydogpaws.com)
 * @author Ryan Thrash (modx.com)
 * @author Shaun McCormick (modx.com)
 * @author Jason Coward (modx.com)
 *
 * @example [[Wayfinder? &startId=`0`]]
 *
 * @var modX $modx
 * @var array $scriptProperties
 * 
 * @package wayfinder
 */
$wayfinder_base = $modx->getOption(\'wayfinder.core_path\',$scriptProperties,$modx->getOption(\'core_path\').\'components/wayfinder/\');

/* include a custom config file if specified */
if (isset($scriptProperties[\'config\'])) {
    $scriptProperties[\'config\'] = str_replace(\'../\',\'\',$scriptProperties[\'config\']);
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/\'.$scriptProperties[\'config\'].\'.config.php\';
} else {
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/default.config.php\';
}
if (file_exists($scriptProperties[\'config\'])) {
    include $scriptProperties[\'config\'];
}

/* include wayfinder class */
include_once $wayfinder_base.\'wayfinder.class.php\';
if (!$modx->loadClass(\'Wayfinder\',$wayfinder_base,true,true)) {
    return \'error: Wayfinder class not found\';
}
$wf = new Wayfinder($modx,$scriptProperties);

/* get user class definitions
 * TODO: eventually move these into config parameters */
$wf->_css = array(
    \'first\' => isset($firstClass) ? $firstClass : \'\',
    \'last\' => isset($lastClass) ? $lastClass : \'last\',
    \'here\' => isset($hereClass) ? $hereClass : \'active\',
    \'parent\' => isset($parentClass) ? $parentClass : \'\',
    \'row\' => isset($rowClass) ? $rowClass : \'\',
    \'outer\' => isset($outerClass) ? $outerClass : \'\',
    \'inner\' => isset($innerClass) ? $innerClass : \'\',
    \'level\' => isset($levelClass) ? $levelClass: \'\',
    \'self\' => isset($selfClass) ? $selfClass : \'\',
    \'weblink\' => isset($webLinkClass) ? $webLinkClass : \'\'
);

/* get user templates
 * TODO: eventually move these into config parameters */
$wf->_templates = array(
    \'outerTpl\' => isset($outerTpl) ? $outerTpl : \'\',
    \'rowTpl\' => isset($rowTpl) ? $rowTpl : \'\',
    \'parentRowTpl\' => isset($parentRowTpl) ? $parentRowTpl : \'\',
    \'parentRowHereTpl\' => isset($parentRowHereTpl) ? $parentRowHereTpl : \'\',
    \'hereTpl\' => isset($hereTpl) ? $hereTpl : \'\',
    \'innerTpl\' => isset($innerTpl) ? $innerTpl : \'\',
    \'innerRowTpl\' => isset($innerRowTpl) ? $innerRowTpl : \'\',
    \'innerHereTpl\' => isset($innerHereTpl) ? $innerHereTpl : \'\',
    \'activeParentRowTpl\' => isset($activeParentRowTpl) ? $activeParentRowTpl : \'\',
    \'categoryFoldersTpl\' => isset($categoryFoldersTpl) ? $categoryFoldersTpl : \'\',
    \'startItemTpl\' => isset($startItemTpl) ? $startItemTpl : \'\'
);

/* process Wayfinder */
$output = $wf->run();
if ($wf->_config[\'debug\']) {
    $output .= $wf->renderDebugOutput();
}

/* output results */
if ($wf->_config[\'ph\']) {
    $modx->setPlaceholder($wf->_config[\'ph\'],$output);
} else {
    return $output;
}',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
        ),
      ),
      'FileLister' => 
      array (
        'fields' => 
        array (
          'id' => 4,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'FileLister',
          'description' => 'A file listing snippet.',
          'editor_type' => 0,
          'category' => 3,
          'cache_type' => 0,
          'snippet' => '/**
 * FileLister
 *
 * Copyright 2010 by Shaun McCormick <shaun@modxcms.com>
 *
 * This file is part of FileLister, a file listing Extra.
 *
 * FileLister is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * FileLister is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * FileLister; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package filelister
 */
/**
 * File listing snippet
 *
 * @var modX $modx
 * @var FileLister $fileLister
 * @var array $scriptProperties
 * 
 * @package filelister
 */
$fileLister = $modx->getService(\'filelister\',\'FileLister\',$modx->getOption(\'filelister.core_path\',null,$modx->getOption(\'core_path\').\'components/filelister/\').\'model/filelister/\',$scriptProperties);
if (!($fileLister instanceof FileLister)) return \'\';

/* get path */
$path = $modx->getOption(\'path\',$scriptProperties,false);
$fileLister->sanitize($path);
if (empty($path) || !is_dir($path)) return \'\';

/* setup default properties */
$fileTpl = $modx->getOption(\'fileTpl\',$scriptProperties,\'feoFile\');
$fileLinkTpl = $modx->getOption(\'fileLinkTpl\',$scriptProperties,\'feoFileLink\');
$directoryTpl = $modx->getOption(\'directoryTpl\',$scriptProperties,\'feoDirectory\');
$dateFormat = $modx->getOption(\'dateFormat\',$scriptProperties,\'%b %d, %Y\');
$skipDirs = $modx->getOption(\'skipDirs\',$scriptProperties,\'.svn,.git,.metadata,.tmp,.DS_Store,_notes\');
$skipDirs = array_merge(array(\'.\',\'..\'),explode(\',\',$skipDirs));
$placeholderPrefix = $modx->getOption(\'placeholderPrefix\',$scriptProperties,\'filelister\');
$pathSeparator = $modx->getOption(\'pathSeparator\',$scriptProperties,\'/\');
$pathTpl = $modx->getOption(\'pathTpl\',$scriptProperties,\'feoPathLink\');
$navKey = $modx->getOption(\'navKey\',$scriptProperties,\'fd\');
$showFiles = (boolean)$modx->getOption(\'showFiles\',$scriptProperties,true);
$showDirectories = (boolean)$modx->getOption(\'showDirectories\',$scriptProperties,true);
$showExt = $modx->getOption(\'showExt\',$scriptProperties,\'\');
if (!empty($showExt)) $showExt = explode(\',\',$showExt);
$showDownloads = (boolean)$modx->getOption(\'showDownloads\',$scriptProperties,true);
$uniqueDownloads = (boolean)$modx->getOption(\'uniqueDownloads\',$scriptProperties,true);
$useGeolocation = (boolean)$modx->getOption(\'useGeolocation\',$scriptProperties,true);
$limit = (int)$modx->getOption(\'limit\',$scriptProperties,0);
$cls = $modx->getOption(\'cls\',$scriptProperties,\'feo-row\');
$altCls = $modx->getOption(\'altCls\',$scriptProperties,\'feo-alt-row\');
$firstCls = $modx->getOption(\'firstCls\',$scriptProperties,\'feo-first-row\');
$lastCls = $modx->getOption(\'lastCls\',$scriptProperties,\'feo-last-row\');

/* get relPath and curPath */
$fd = $modx->getOption($navKey,$_REQUEST,false);
$relPath = \'\';
if ($fd) {
    $relPath = $fileLister->parseKey($fd);
    if ($relPath == \'.\') $relPath = \'\';
}
$curPath = $fileLister->sanitize($path.$relPath);

/* if pointing to file, output file */
if (!is_dir($curPath) && is_file($curPath)) {
    /* do download tracking and geolocation */
    $tenMinAgo = time() - (60 * 5); /* prevent duplicate download tracking */
    $tenMinAgo = strftime(\'%Y-%m-%d %H:%M:%S\',$tenMinAgo);
    $double = $modx->getCount(\'feoDownload\',array(
        \'path\' => $curPath,
        \'ip\' => $_SERVER[\'REMOTE_ADDR\'],
        \'downloadedon:>\' => $tenMinAgo,
    ));
    if ($double <= 0) {
        $unique = $modx->getCount(\'feoDownload\',array(
            \'path\' => $curPath,
            \'ip\' => $_SERVER[\'REMOTE_ADDR\'],
        ));

        /** @var feoDownload $dl */
        $dl = $modx->newObject(\'feoDownload\');
        $dl->set(\'path\',$curPath);
        $dl->set(\'ip\',$_SERVER[\'REMOTE_ADDR\']);
        $dl->set(\'downloadedon\',strftime(\'%Y-%m-%d %H:%M:%S\'));
        $dl->set(\'unique\',$unique > 0 ? false : true);
        $dl->set(\'referer\',$_SERVER[\'HTTP_REFERER\']);

        $geoApiKey = $modx->getOption(\'filelister.ipinfodb_api_key\',$scriptProperties,\'\');
        if ($useGeolocation && !empty($geoApiKey)) {
            $modx->loadClass(\'geolocation.ipinfodb\',$fileLister->config[\'modelPath\'],true,true);
            $geo = new ipinfodb($modx);
            $geo->setKey($geoApiKey);
            $locations = $geo->getGeoLocation($_SERVER[\'REMOTE_ADDR\']);
            $geolocation = array();
            if (!empty($locations[0]) && is_array($locations[0])) {
                $gl = $locations[0];
                $dl->set(\'geolocation\',$gl);
                $dl->set(\'country\',$gl[\'CountryCode\']);
                $dl->set(\'region\',$gl[\'RegionName\']);
                $dl->set(\'city\',$gl[\'City\']);
                $dl->set(\'zip\',$gl[\'ZipPostalCode\']);
            }
            if ($modx->user->hasSessionContext($modx->context->get(\'key\'))) {
                $dl->set(\'user\',$modx->user->get(\'id\'));
            }
        }
        $dl->save();

    }

    $fileLister->loadHeaders($curPath);
    $fileLister->renderFile($curPath);
    die();
} elseif (!is_dir($curPath)) {
    /* if an invalid path, set to base */
    $curPath = $path;
}

/* check download access */
$allowDownloadGroups = $modx->getOption(\'allowDownloadGroups\',$scriptProperties,\'\');
if (!empty($allowDownloadGroups)) $allowDownloadGroups = explode(\',\',$allowDownloadGroups);

$canDownload = $modx->getOption(\'allowDownload\',$scriptProperties,true);
if ($modx->getOption(\'requireAuthDownload\',$scriptProperties,false)) {
    $requireAuthContext = $modx->getOption(\'requireAuthContext\',$scriptProperties,$modx->context->get(\'key\'));
    $canDownload = $modx->user->hasSessionContext($requireAuthContext);
}
if (!empty($allowDownloadGroups)) {
    $canDownload = $modx->user->isMember($allowDownloadGroups);
}
unset($requireAuthContext,$allowDownloadGroups);

/* iterate list of files/dirs */
$count = 0;
$directoryCount = 0;
$fileCount = 0;
$totalDownloads = 0;
$directories = array();
$files = array();
/** @var DirectoryIterator $file */
foreach (new DirectoryIterator($curPath) as $file) {
    if (in_array($file,$skipDirs)) continue;
    if (!$file->isReadable()) continue;

    /* make the key that is used for navigation */
    $filePath = $file->getPathname();
    $filePath = $relPath.(!empty($relPath) ? \'/\' : \'\').$file->getFilename();
    $key = $fileLister->makeKey($filePath);

    $fileArray = array();
    $fileArray[\'filename\'] = $file->getFilename();
    $fileArray[\'bytesize\'] = $file->getSize();
    $fileArray[\'filesize\'] = $fileLister->formatBytes($file->getSize());
    $fileArray[\'path\'] = str_replace(\'\\\\\', \'/\', $file->getPathname());
    $fileArray[\'relativePath\'] = $filePath;
    $fileArray[\'navKey\'] = $navKey;
    $fileArray[\'showDownloads\'] = $showDownloads;

    /* if allowing for downloading, generate a link here */
    if ($file->isDir() || $canDownload) {
        $fileArray[\'link\'] = $fileLister->getChunk($fileLinkTpl,array(
            \'url\' => $modx->makeUrl($modx->resource->get(\'id\'),\'\',array(
                $navKey => $key,
            )),
            \'filename\' => $fileArray[\'filename\'],
        ));
    } else {
        $fileArray[\'link\'] = $fileArray[\'filename\'];
    }
    /* if resource is a file */
    if ($file->isFile() && $showFiles) {
        $fileArray[\'extension\'] = pathinfo($fileArray[\'path\'],PATHINFO_EXTENSION);
        if (!empty($showExt) && !in_array($fileArray[\'extension\'],$showExt)) continue;
        
        $fileArray[\'lastmod\'] = $file->getMTime();
        $fileArray[\'dateFormat\'] = $dateFormat;

        /* get download count for file */
        if ($showDownloads) {
            $w = array(\'path\' => $fileArray[\'path\']);
            if ($uniqueDownloads) $w[\'unique\'] = true;
            $fileArray[\'downloads\'] = $modx->getCount(\'feoDownload\',$w);
            $totalDownloads += (int)$fileArray[\'downloads\'];
        }

        $files[] = $fileArray;
        $fileCount++;
        
    /* else if resource is a directory */
    } elseif ($file->isDir() && $showDirectories) {
        $directories[] = $fileArray;
        $directoryCount++;
    }
    $count++;
}
unset($fileArray,$file);


/* do sorting on files */
$sortBy = $modx->getOption(\'sortBy\',$scriptProperties,\'size\');
$sortDir = $modx->getOption(\'sortDir\',$scriptProperties,\'ASC\');
include_once $fileLister->config[\'includesPath\'].\'sort.algorithms.php\';
$algo = \'\';
switch ($sortBy.\'-\'.$sortDir) {
    case \'filename-ASC\': case \'name-ASC\': $algo = \'feoSortByNameASC\'; break;
    case \'filename-DESC\': case \'name-DESC\': $algo = \'feoSortByNameDESC\'; break;
    case \'extension-ASC\': $algo = \'feoSortByExtensionASC\'; break;
    case \'extension-DESC\': $algo = \'feoSortByExtensionDESC\'; break;
    case \'date-ASC\': case \'lastmod-ASC\': $algo = \'feoSortByLastModifiedASC\'; break;
    case \'date-DESC\': case \'lastmod-DESC\': $algo = \'feoSortByLastModifiedDESC\'; break;
    case \'size-ASC\': $algo = \'feoSortBySizeASC\'; break;
    case \'size-DESC\': $algo = \'feoSortBySizeDESC\'; break;
}
if (!empty($algo)) { uasort($files,$algo); }
unset($algo,$sortBy,$sortDir);

/* get templated chunks for each fs resource */
$i = 0;
$totalCount = count($directories) + count($files);
if ($totalCount > $limit) $totalCount = $limit; /* getPage compat */
foreach ($directories as $directory) {
    $odd = $i % 2;
    $directory[\'cls\'] = $odd ? $altCls : $cls;
    if ($i == 0) $directory[\'cls\'] .= \' \'.$firstCls;
    if ($i == ($totalCount-1)) $directory[\'cls\'] .= \' \'.$lastCls;
    $list[] = $fileLister->getChunk($directoryTpl,$directory);
    $i++;
}
unset($directory);
foreach ($files as $file) {
    $odd = $i % 2;
    $file[\'cls\'] = $odd ? $altCls : $cls;
    if ($i == 0) $file[\'cls\'] .= \' \'.$firstCls;
    if ($i == ($totalCount-1)) $file[\'cls\'] .= \' \'.$lastCls;
    $list[] = $fileLister->getChunk($fileTpl,$file);
    $i++;
}
unset($file);

/* set placeholders */
$homePathName = $modx->getOption(\'homePathName\',$scriptProperties,\'\');
if (!empty($homePathName)) {
    $path = $homePathName;
}
$placeholders = array(
    \'total\' => $count,
    \'total.files\' => $fileCount,
    \'total.directories\' => $directoryCount,
    \'total.downloads\' => $totalDownloads,
    \'path\' => $fileLister->parsePathIntoLinks($relPath,$path,$pathTpl,$pathSeparator,$navKey),
    \'relativePath\' => $relPath,
);
$modx->toPlaceholders($placeholders,$placeholderPrefix);

/* output */
$outputSeparator = $modx->getOption(\'outputSeparator\',$scriptProperties,\'\');
if (count($list) > 0) {
    /* pagination handling in conjunction with getPage */
    if (!empty($limit)) {
        $pageVarKey = $modx->getOption(\'pageVarKey\',$scriptProperties,\'page\');
        $page = (int)$modx->getOption($pageVarKey,$scriptProperties,$modx->getOption($pageVarKey,$_REQUEST,1));
        $offset = (int)$modx->getOption(\'offset\',$scriptProperties,0);
        /* cut the list of file into blocks */
        $list = array_chunk($list,$limit,true);
        /* output the current listing block */
        $output = implode($outputSeparator,$list[$page - 1]);
        /* need to make the total available without placeholder prefix for getPage */
        $modx->setPlaceholder(\'total\',$count);
    } else {
        /* no pagination so display all results */
        $output = implode($outputSeparator,$list);
    }
} else {
  /* empty directory so display nothing */
  $output = \'\';
}
$toPlaceholder = $modx->getOption(\'toPlaceholder\',$scriptProperties,false);
if ($toPlaceholder) {
    $modx->setPlaceholder($toPlaceholder,$output);
    return \'\';
}
return $output;',
          'locked' => false,
          'properties' => 
          array (
            'path' => 
            array (
              'name' => 'path',
              'desc' => 'prop_feo.path_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The path to browse from.',
              'area' => '',
              'area_trans' => '',
            ),
            'fileTpl' => 
            array (
              'name' => 'fileTpl',
              'desc' => 'prop_feo.filetpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'feoFile',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The chunk for each file listing.',
              'area' => '',
              'area_trans' => '',
            ),
            'directoryTpl' => 
            array (
              'name' => 'directoryTpl',
              'desc' => 'prop_feo.directorytpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'feoDirectory',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The chunk for each directory listing.',
              'area' => '',
              'area_trans' => '',
            ),
            'fileLinkTpl' => 
            array (
              'name' => 'fileLinkTpl',
              'desc' => 'prop_feo.filelinktpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'feoFileLink',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The chunk for the links for each listing.',
              'area' => '',
              'area_trans' => '',
            ),
            'dateFormat' => 
            array (
              'name' => 'dateFormat',
              'desc' => 'prop_feo.dateformat_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '%b %d, %Y',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'A PHP date format for the last modified field.',
              'area' => '',
              'area_trans' => '',
            ),
            'cls' => 
            array (
              'name' => 'cls',
              'desc' => 'prop_feo.cls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'feo-row',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The CSS class for the current row.',
              'area' => '',
              'area_trans' => '',
            ),
            'altCls' => 
            array (
              'name' => 'altCls',
              'desc' => 'prop_feo.altcls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'feo-alt-row',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The CSS class for the odd row.',
              'area' => '',
              'area_trans' => '',
            ),
            'firstCls' => 
            array (
              'name' => 'firstCls',
              'desc' => 'prop_feo.firstcls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'feo-first-row',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The CSS class for the first row.',
              'area' => '',
              'area_trans' => '',
            ),
            'lastCls' => 
            array (
              'name' => 'lastCls',
              'desc' => 'prop_feo.lastcls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'feo-last-row',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The CSS class for the last row.',
              'area' => '',
              'area_trans' => '',
            ),
            'outputSeparator' => 
            array (
              'name' => 'outputSeparator',
              'desc' => 'prop_feo.outputseparator_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '
',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'A separator that is appended to each listing.',
              'area' => '',
              'area_trans' => '',
            ),
            'skipDirs' => 
            array (
              'name' => 'skipDirs',
              'desc' => 'prop_feo.skipdirs_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '.svn,.git,.metadata,.tmp,.DS_Store,_notes',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'A comma-separated list of directory names to always skip.',
              'area' => '',
              'area_trans' => '',
            ),
            'placeholderPrefix' => 
            array (
              'name' => 'placeholderPrefix',
              'desc' => 'prop_feo.placeholderprefix_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'filelister',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The prefix to append to all global placeholders set by the snippet.',
              'area' => '',
              'area_trans' => '',
            ),
            'pathSeparator' => 
            array (
              'name' => 'pathSeparator',
              'desc' => 'prop_feo.pathseparator_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '/',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The separator between items generated in the +path placeholder.',
              'area' => '',
              'area_trans' => '',
            ),
            'pathTpl' => 
            array (
              'name' => 'pathTpl',
              'desc' => 'prop_feo.pathtpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'feoPathLink',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The chunk for each item in the +path placeholder.',
              'area' => '',
              'area_trans' => '',
            ),
            'showFiles' => 
            array (
              'name' => 'showFiles',
              'desc' => 'prop_feo.showfiles_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'If false, will hide any files from the listing.',
              'area' => '',
              'area_trans' => '',
            ),
            'showDirectories' => 
            array (
              'name' => 'showDirectories',
              'desc' => 'prop_feo.showdirectories_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'If false, will hide any directories from the listing.',
              'area' => '',
              'area_trans' => '',
            ),
            'showExt' => 
            array (
              'name' => 'showExt',
              'desc' => 'prop_feo.showext_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'A comma-separated list of extensions to restrict output of files to. If blank, all files will be shown. If any are specified, only files with those extensions will be shown.',
              'area' => '',
              'area_trans' => '',
            ),
            'sortBy' => 
            array (
              'name' => 'sortBy',
              'desc' => 'prop_feo.sortby_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'feo.filename',
                  'value' => 'filename',
                  'name' => 'File Name',
                ),
                1 => 
                array (
                  'text' => 'feo.date',
                  'value' => 'date',
                  'name' => 'Date',
                ),
                2 => 
                array (
                  'text' => 'feo.size',
                  'value' => 'size',
                  'name' => 'Size',
                ),
                3 => 
                array (
                  'text' => 'feo.extension',
                  'value' => 'extension',
                  'name' => 'Extension',
                ),
              ),
              'value' => 'filename',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The metric to sort by for each file.',
              'area' => '',
              'area_trans' => '',
            ),
            'sortDir' => 
            array (
              'name' => 'sortDir',
              'desc' => 'prop_feo.sortdir_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'feo.asc',
                  'value' => 'ASC',
                  'name' => 'Ascending',
                ),
                1 => 
                array (
                  'text' => 'feo.desc',
                  'value' => 'DESC',
                  'name' => 'Descending',
                ),
              ),
              'value' => 'ASC',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The direction to sort by for each file.',
              'area' => '',
              'area_trans' => '',
            ),
            'allowDownload' => 
            array (
              'name' => 'allowDownload',
              'desc' => 'prop_feo.allowdownload_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'If false, will disable viewing and downloads of any files.',
              'area' => '',
              'area_trans' => '',
            ),
            'requireAuthDownload' => 
            array (
              'name' => 'requireAuthDownload',
              'desc' => 'prop_feo.requireauthdownload_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'If true, will require users be logged in to view or download a file.',
              'area' => '',
              'area_trans' => '',
            ),
            'allowDownloadGroups' => 
            array (
              'name' => 'allowDownloadGroups',
              'desc' => 'prop_feo.allowdownloadgroups_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'A comma-separated list that, if set, will restrict file viewing/downloading to users in the specified groups.',
              'area' => '',
              'area_trans' => '',
            ),
            'showDownloads' => 
            array (
              'name' => 'showDownloads',
              'desc' => 'prop_feo.showdownloads_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'If true, will show download counts next to files.',
              'area' => '',
              'area_trans' => '',
            ),
            'uniqueDownloads' => 
            array (
              'name' => 'uniqueDownloads',
              'desc' => 'prop_feo.uniquedownloads_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'If true, will show only unique downloads - meaning one download count per IP.',
              'area' => '',
              'area_trans' => '',
            ),
            'useGeolocation' => 
            array (
              'name' => 'useGeolocation',
              'desc' => 'prop_feo.usegeolocation_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'If true, will use Geolocation services at ipinfodb.com to determine the location of the downloader. Requires an API key from ipinfodb.com.',
              'area' => '',
              'area_trans' => '',
            ),
            'toPlaceholder' => 
            array (
              'name' => 'toPlaceholder',
              'desc' => 'prop_feo.toplaceholder_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'If set, will set the output to a placeholder with the specified name rather than directly outputting it.',
              'area' => '',
              'area_trans' => '',
            ),
            'navKey' => 
            array (
              'name' => 'navKey',
              'desc' => 'prop_feo.navkey_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'fd',
              'lexicon' => 'filelister:properties',
              'desc_trans' => 'The REQUEST navigation key used for the browsing.',
              'area' => '',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * FileLister
 *
 * Copyright 2010 by Shaun McCormick <shaun@modxcms.com>
 *
 * This file is part of FileLister, a file listing Extra.
 *
 * FileLister is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * FileLister is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * FileLister; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package filelister
 */
/**
 * File listing snippet
 *
 * @var modX $modx
 * @var FileLister $fileLister
 * @var array $scriptProperties
 * 
 * @package filelister
 */
$fileLister = $modx->getService(\'filelister\',\'FileLister\',$modx->getOption(\'filelister.core_path\',null,$modx->getOption(\'core_path\').\'components/filelister/\').\'model/filelister/\',$scriptProperties);
if (!($fileLister instanceof FileLister)) return \'\';

/* get path */
$path = $modx->getOption(\'path\',$scriptProperties,false);
$fileLister->sanitize($path);
if (empty($path) || !is_dir($path)) return \'\';

/* setup default properties */
$fileTpl = $modx->getOption(\'fileTpl\',$scriptProperties,\'feoFile\');
$fileLinkTpl = $modx->getOption(\'fileLinkTpl\',$scriptProperties,\'feoFileLink\');
$directoryTpl = $modx->getOption(\'directoryTpl\',$scriptProperties,\'feoDirectory\');
$dateFormat = $modx->getOption(\'dateFormat\',$scriptProperties,\'%b %d, %Y\');
$skipDirs = $modx->getOption(\'skipDirs\',$scriptProperties,\'.svn,.git,.metadata,.tmp,.DS_Store,_notes\');
$skipDirs = array_merge(array(\'.\',\'..\'),explode(\',\',$skipDirs));
$placeholderPrefix = $modx->getOption(\'placeholderPrefix\',$scriptProperties,\'filelister\');
$pathSeparator = $modx->getOption(\'pathSeparator\',$scriptProperties,\'/\');
$pathTpl = $modx->getOption(\'pathTpl\',$scriptProperties,\'feoPathLink\');
$navKey = $modx->getOption(\'navKey\',$scriptProperties,\'fd\');
$showFiles = (boolean)$modx->getOption(\'showFiles\',$scriptProperties,true);
$showDirectories = (boolean)$modx->getOption(\'showDirectories\',$scriptProperties,true);
$showExt = $modx->getOption(\'showExt\',$scriptProperties,\'\');
if (!empty($showExt)) $showExt = explode(\',\',$showExt);
$showDownloads = (boolean)$modx->getOption(\'showDownloads\',$scriptProperties,true);
$uniqueDownloads = (boolean)$modx->getOption(\'uniqueDownloads\',$scriptProperties,true);
$useGeolocation = (boolean)$modx->getOption(\'useGeolocation\',$scriptProperties,true);
$limit = (int)$modx->getOption(\'limit\',$scriptProperties,0);
$cls = $modx->getOption(\'cls\',$scriptProperties,\'feo-row\');
$altCls = $modx->getOption(\'altCls\',$scriptProperties,\'feo-alt-row\');
$firstCls = $modx->getOption(\'firstCls\',$scriptProperties,\'feo-first-row\');
$lastCls = $modx->getOption(\'lastCls\',$scriptProperties,\'feo-last-row\');

/* get relPath and curPath */
$fd = $modx->getOption($navKey,$_REQUEST,false);
$relPath = \'\';
if ($fd) {
    $relPath = $fileLister->parseKey($fd);
    if ($relPath == \'.\') $relPath = \'\';
}
$curPath = $fileLister->sanitize($path.$relPath);

/* if pointing to file, output file */
if (!is_dir($curPath) && is_file($curPath)) {
    /* do download tracking and geolocation */
    $tenMinAgo = time() - (60 * 5); /* prevent duplicate download tracking */
    $tenMinAgo = strftime(\'%Y-%m-%d %H:%M:%S\',$tenMinAgo);
    $double = $modx->getCount(\'feoDownload\',array(
        \'path\' => $curPath,
        \'ip\' => $_SERVER[\'REMOTE_ADDR\'],
        \'downloadedon:>\' => $tenMinAgo,
    ));
    if ($double <= 0) {
        $unique = $modx->getCount(\'feoDownload\',array(
            \'path\' => $curPath,
            \'ip\' => $_SERVER[\'REMOTE_ADDR\'],
        ));

        /** @var feoDownload $dl */
        $dl = $modx->newObject(\'feoDownload\');
        $dl->set(\'path\',$curPath);
        $dl->set(\'ip\',$_SERVER[\'REMOTE_ADDR\']);
        $dl->set(\'downloadedon\',strftime(\'%Y-%m-%d %H:%M:%S\'));
        $dl->set(\'unique\',$unique > 0 ? false : true);
        $dl->set(\'referer\',$_SERVER[\'HTTP_REFERER\']);

        $geoApiKey = $modx->getOption(\'filelister.ipinfodb_api_key\',$scriptProperties,\'\');
        if ($useGeolocation && !empty($geoApiKey)) {
            $modx->loadClass(\'geolocation.ipinfodb\',$fileLister->config[\'modelPath\'],true,true);
            $geo = new ipinfodb($modx);
            $geo->setKey($geoApiKey);
            $locations = $geo->getGeoLocation($_SERVER[\'REMOTE_ADDR\']);
            $geolocation = array();
            if (!empty($locations[0]) && is_array($locations[0])) {
                $gl = $locations[0];
                $dl->set(\'geolocation\',$gl);
                $dl->set(\'country\',$gl[\'CountryCode\']);
                $dl->set(\'region\',$gl[\'RegionName\']);
                $dl->set(\'city\',$gl[\'City\']);
                $dl->set(\'zip\',$gl[\'ZipPostalCode\']);
            }
            if ($modx->user->hasSessionContext($modx->context->get(\'key\'))) {
                $dl->set(\'user\',$modx->user->get(\'id\'));
            }
        }
        $dl->save();

    }

    $fileLister->loadHeaders($curPath);
    $fileLister->renderFile($curPath);
    die();
} elseif (!is_dir($curPath)) {
    /* if an invalid path, set to base */
    $curPath = $path;
}

/* check download access */
$allowDownloadGroups = $modx->getOption(\'allowDownloadGroups\',$scriptProperties,\'\');
if (!empty($allowDownloadGroups)) $allowDownloadGroups = explode(\',\',$allowDownloadGroups);

$canDownload = $modx->getOption(\'allowDownload\',$scriptProperties,true);
if ($modx->getOption(\'requireAuthDownload\',$scriptProperties,false)) {
    $requireAuthContext = $modx->getOption(\'requireAuthContext\',$scriptProperties,$modx->context->get(\'key\'));
    $canDownload = $modx->user->hasSessionContext($requireAuthContext);
}
if (!empty($allowDownloadGroups)) {
    $canDownload = $modx->user->isMember($allowDownloadGroups);
}
unset($requireAuthContext,$allowDownloadGroups);

/* iterate list of files/dirs */
$count = 0;
$directoryCount = 0;
$fileCount = 0;
$totalDownloads = 0;
$directories = array();
$files = array();
/** @var DirectoryIterator $file */
foreach (new DirectoryIterator($curPath) as $file) {
    if (in_array($file,$skipDirs)) continue;
    if (!$file->isReadable()) continue;

    /* make the key that is used for navigation */
    $filePath = $file->getPathname();
    $filePath = $relPath.(!empty($relPath) ? \'/\' : \'\').$file->getFilename();
    $key = $fileLister->makeKey($filePath);

    $fileArray = array();
    $fileArray[\'filename\'] = $file->getFilename();
    $fileArray[\'bytesize\'] = $file->getSize();
    $fileArray[\'filesize\'] = $fileLister->formatBytes($file->getSize());
    $fileArray[\'path\'] = str_replace(\'\\\\\', \'/\', $file->getPathname());
    $fileArray[\'relativePath\'] = $filePath;
    $fileArray[\'navKey\'] = $navKey;
    $fileArray[\'showDownloads\'] = $showDownloads;

    /* if allowing for downloading, generate a link here */
    if ($file->isDir() || $canDownload) {
        $fileArray[\'link\'] = $fileLister->getChunk($fileLinkTpl,array(
            \'url\' => $modx->makeUrl($modx->resource->get(\'id\'),\'\',array(
                $navKey => $key,
            )),
            \'filename\' => $fileArray[\'filename\'],
        ));
    } else {
        $fileArray[\'link\'] = $fileArray[\'filename\'];
    }
    /* if resource is a file */
    if ($file->isFile() && $showFiles) {
        $fileArray[\'extension\'] = pathinfo($fileArray[\'path\'],PATHINFO_EXTENSION);
        if (!empty($showExt) && !in_array($fileArray[\'extension\'],$showExt)) continue;
        
        $fileArray[\'lastmod\'] = $file->getMTime();
        $fileArray[\'dateFormat\'] = $dateFormat;

        /* get download count for file */
        if ($showDownloads) {
            $w = array(\'path\' => $fileArray[\'path\']);
            if ($uniqueDownloads) $w[\'unique\'] = true;
            $fileArray[\'downloads\'] = $modx->getCount(\'feoDownload\',$w);
            $totalDownloads += (int)$fileArray[\'downloads\'];
        }

        $files[] = $fileArray;
        $fileCount++;
        
    /* else if resource is a directory */
    } elseif ($file->isDir() && $showDirectories) {
        $directories[] = $fileArray;
        $directoryCount++;
    }
    $count++;
}
unset($fileArray,$file);


/* do sorting on files */
$sortBy = $modx->getOption(\'sortBy\',$scriptProperties,\'size\');
$sortDir = $modx->getOption(\'sortDir\',$scriptProperties,\'ASC\');
include_once $fileLister->config[\'includesPath\'].\'sort.algorithms.php\';
$algo = \'\';
switch ($sortBy.\'-\'.$sortDir) {
    case \'filename-ASC\': case \'name-ASC\': $algo = \'feoSortByNameASC\'; break;
    case \'filename-DESC\': case \'name-DESC\': $algo = \'feoSortByNameDESC\'; break;
    case \'extension-ASC\': $algo = \'feoSortByExtensionASC\'; break;
    case \'extension-DESC\': $algo = \'feoSortByExtensionDESC\'; break;
    case \'date-ASC\': case \'lastmod-ASC\': $algo = \'feoSortByLastModifiedASC\'; break;
    case \'date-DESC\': case \'lastmod-DESC\': $algo = \'feoSortByLastModifiedDESC\'; break;
    case \'size-ASC\': $algo = \'feoSortBySizeASC\'; break;
    case \'size-DESC\': $algo = \'feoSortBySizeDESC\'; break;
}
if (!empty($algo)) { uasort($files,$algo); }
unset($algo,$sortBy,$sortDir);

/* get templated chunks for each fs resource */
$i = 0;
$totalCount = count($directories) + count($files);
if ($totalCount > $limit) $totalCount = $limit; /* getPage compat */
foreach ($directories as $directory) {
    $odd = $i % 2;
    $directory[\'cls\'] = $odd ? $altCls : $cls;
    if ($i == 0) $directory[\'cls\'] .= \' \'.$firstCls;
    if ($i == ($totalCount-1)) $directory[\'cls\'] .= \' \'.$lastCls;
    $list[] = $fileLister->getChunk($directoryTpl,$directory);
    $i++;
}
unset($directory);
foreach ($files as $file) {
    $odd = $i % 2;
    $file[\'cls\'] = $odd ? $altCls : $cls;
    if ($i == 0) $file[\'cls\'] .= \' \'.$firstCls;
    if ($i == ($totalCount-1)) $file[\'cls\'] .= \' \'.$lastCls;
    $list[] = $fileLister->getChunk($fileTpl,$file);
    $i++;
}
unset($file);

/* set placeholders */
$homePathName = $modx->getOption(\'homePathName\',$scriptProperties,\'\');
if (!empty($homePathName)) {
    $path = $homePathName;
}
$placeholders = array(
    \'total\' => $count,
    \'total.files\' => $fileCount,
    \'total.directories\' => $directoryCount,
    \'total.downloads\' => $totalDownloads,
    \'path\' => $fileLister->parsePathIntoLinks($relPath,$path,$pathTpl,$pathSeparator,$navKey),
    \'relativePath\' => $relPath,
);
$modx->toPlaceholders($placeholders,$placeholderPrefix);

/* output */
$outputSeparator = $modx->getOption(\'outputSeparator\',$scriptProperties,\'\');
if (count($list) > 0) {
    /* pagination handling in conjunction with getPage */
    if (!empty($limit)) {
        $pageVarKey = $modx->getOption(\'pageVarKey\',$scriptProperties,\'page\');
        $page = (int)$modx->getOption($pageVarKey,$scriptProperties,$modx->getOption($pageVarKey,$_REQUEST,1));
        $offset = (int)$modx->getOption(\'offset\',$scriptProperties,0);
        /* cut the list of file into blocks */
        $list = array_chunk($list,$limit,true);
        /* output the current listing block */
        $output = implode($outputSeparator,$list[$page - 1]);
        /* need to make the total available without placeholder prefix for getPage */
        $modx->setPlaceholder(\'total\',$count);
    } else {
        /* no pagination so display all results */
        $output = implode($outputSeparator,$list);
    }
} else {
  /* empty directory so display nothing */
  $output = \'\';
}
$toPlaceholder = $modx->getOption(\'toPlaceholder\',$scriptProperties,false);
if ($toPlaceholder) {
    $modx->setPlaceholder($toPlaceholder,$output);
    return \'\';
}
return $output;',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
        ),
      ),
      'phpthumbof' => 
      array (
        'fields' => 
        array (
          'id' => 18,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'phpthumbof',
          'description' => 'A custom output filter that generates thumbnails securely with phpThumb.',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '/**
 * phpThumbOf
 *
 * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>
 *
 * phpThumbOf is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * phpThumbOf is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package phpthumbof
 */
/**
 * A custom output filter for phpThumb
 *
 * @var modX $modx
 * @var array $scriptProperties
 * @var phpThumbOf $phpThumbOf
 * @var string $input
 * @var string|array $options
 *
 * @package phpthumbof
 */
if (empty($modx)) return \'\';
if (!$modx->loadClass(\'modPhpThumb\',$modx->getOption(\'core_path\').\'model/phpthumb/\',true,true)) {
    $modx->log(modX::LOG_LEVEL_ERROR,\'[phpThumbOf] Could not load modPhpThumb class.\');
    return \'\';
}
if (empty($input)) {
    $modx->log(modX::LOG_LEVEL_DEBUG,\'[phpThumbOf] Empty image path passed, aborting.\');
    return \'\';
}
$modelPath = $modx->getOption(\'phpthumbof.core_path\',null,$modx->getOption(\'core_path\').\'components/phpthumbof/\').\'model/\';
require_once $modelPath.\'phpthumbof/phpthumbof.class.php\';
$phpThumbOf = new phpThumbOf($modx,$scriptProperties);

$phpThumbOf->getCacheDirectory();
$phpThumbOf->ensureCacheDirectoryIsWritable();

$thumbnail = $phpThumbOf->createThumbnailObject();
$thumbnail->setInput($input);
$thumbnail->setOptions($options);
$thumbnail->initializeService();
return $thumbnail->render();',
          'locked' => false,
          'properties' => NULL,
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * phpThumbOf
 *
 * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>
 *
 * phpThumbOf is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * phpThumbOf is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package phpthumbof
 */
/**
 * A custom output filter for phpThumb
 *
 * @var modX $modx
 * @var array $scriptProperties
 * @var phpThumbOf $phpThumbOf
 * @var string $input
 * @var string|array $options
 *
 * @package phpthumbof
 */
if (empty($modx)) return \'\';
if (!$modx->loadClass(\'modPhpThumb\',$modx->getOption(\'core_path\').\'model/phpthumb/\',true,true)) {
    $modx->log(modX::LOG_LEVEL_ERROR,\'[phpThumbOf] Could not load modPhpThumb class.\');
    return \'\';
}
if (empty($input)) {
    $modx->log(modX::LOG_LEVEL_DEBUG,\'[phpThumbOf] Empty image path passed, aborting.\');
    return \'\';
}
$modelPath = $modx->getOption(\'phpthumbof.core_path\',null,$modx->getOption(\'core_path\').\'components/phpthumbof/\').\'model/\';
require_once $modelPath.\'phpthumbof/phpthumbof.class.php\';
$phpThumbOf = new phpThumbOf($modx,$scriptProperties);

$phpThumbOf->getCacheDirectory();
$phpThumbOf->ensureCacheDirectoryIsWritable();

$thumbnail = $phpThumbOf->createThumbnailObject();
$thumbnail->setInput($input);
$thumbnail->setOptions($options);
$thumbnail->initializeService();
return $thumbnail->render();',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
        ),
      ),
    ),
    'modTemplateVar' => 
    array (
      'Media folder' => 
      array (
        'fields' => 
        array (
          'id' => 1,
          'source' => 0,
          'property_preprocess' => false,
          'type' => 'text',
          'name' => 'Media folder',
          'caption' => 'Media folder',
          'description' => '',
          'editor_type' => 0,
          'category' => 7,
          'locked' => false,
          'elements' => '',
          'rank' => 0,
          'display' => 'text',
          'default_text' => 'media/',
          'properties' => 
          array (
          ),
          'input_properties' => NULL,
          'output_properties' => NULL,
          'static' => false,
          'static_file' => '',
          'content' => 'media/',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
        ),
      ),
    ),
  ),
);